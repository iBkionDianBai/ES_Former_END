{"ast":null,"code":"var _jsxFileName = \"E:\\\\\\u9879\\u76EE\\\\\\u524D\\u7AEF\\\\QinWenMingFront-end-master-II\\\\src\\\\RandomKeshi.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction RandomKeshi() {\n  _s();\n  const [keshi, setKeshi] = useState('');\n  const [keshineirong, setKeshineirong] = useState('');\n  const handleButtonClick = async () => {\n    try {\n      const keShiWenBen = {\n        pageNum: 1,\n        pageSize: 20,\n        payload: {\n          id: 0,\n          keshi: \"\",\n          keshineirong: \"\"\n        }\n      };\n\n      // 发送 API 请求\n      axios.defaults.headers['Content-Type'] = 'application/json';\n      const response = await axios.post('http://172.18.7.119:8080/KeShiWenBen/select', keShiWenBen);\n      // 打印返回值\n      console.log(response, 'response');\n      console.log(response.data, 'response---data');\n      // 从返回的数据中随机选择一个对象\n      // debugger\n      const data = response.data.data.rows || [];\n      if (data.length > 0) {\n        const randomIndex = Math.floor(Math.random() * data.length);\n        const selectedItem = data[randomIndex];\n\n        // 从选择的对象中获取 keshi 和 keshineirong 的值\n        const keshiValue = selectedItem.keshi;\n        const keshineirongValue = selectedItem.keshineirong;\n\n        // 更新状态\n        setKeshi(keshiValue);\n        setKeshineirong(keshineirongValue);\n      } else {\n        // 处理数组为空的情况\n        setKeshi('');\n        setKeshineirong('');\n      }\n    } catch (error) {\n      // 处理错误\n      console.error(error);\n      // alert('请求失败，请稍后重试');\n    }\n  };\n\n  useEffect(() => {\n    handleButtonClick(); // 在组件加载完成后自动触发点击事件\n  }, []); // 空数组作为第二个参数，表示只在组件加载完成后触发一次\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        paddingLeft: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleButtonClick,\n        style: {\n          width: '100%'\n        },\n        children: \" \\u6362\\u4E00\\u6279\\u523B\\u77F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u523B\\u77F3\\u540D\\u79F0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", keshi]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u523B\\u77F3\\u6587\\u672C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"keshiwenben\",\n        children: keshineirong\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n_s(RandomKeshi, \"Roz98GEJ0Lozesnq4iHtLxNMVyE=\");\n_c = RandomKeshi;\nexport default RandomKeshi;\nvar _c;\n$RefreshReg$(_c, \"RandomKeshi\");","map":{"version":3,"names":["React","useState","useEffect","Helmet","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","RandomKeshi","_s","keshi","setKeshi","keshineirong","setKeshineirong","handleButtonClick","keShiWenBen","pageNum","pageSize","payload","id","defaults","headers","response","post","console","log","data","rows","length","randomIndex","Math","floor","random","selectedItem","keshiValue","keshineirongValue","error","children","style","paddingLeft","onClick","width","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["E:/项目/前端/QinWenMingFront-end-master-II/src/RandomKeshi.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\n\nfunction RandomKeshi() {\n  const [keshi, setKeshi] = useState('');\n  const [keshineirong, setKeshineirong] = useState('');\n\n  const handleButtonClick = async () => {\n    try {\n      const keShiWenBen = {\n        pageNum: 1,\n        pageSize: 20,\n        payload: {\n          id: 0,\n          keshi: \"\",\n          keshineirong: \"\"\n        }\n      };\n  \n      // 发送 API 请求\n      axios.defaults.headers['Content-Type'] = 'application/json';\n      const response = await axios.post(\n        'http://172.18.7.119:8080/KeShiWenBen/select',\n        keShiWenBen\n      );\n  // 打印返回值\n  console.log(response,'response');\n  console.log(response.data,'response---data');\n      // 从返回的数据中随机选择一个对象\n      // debugger\n      const data = response.data.data.rows || [];\n      if (data.length > 0) {\n        \n        const randomIndex = Math.floor(Math.random() * data.length);\n        const selectedItem = data[randomIndex];\n  \n        // 从选择的对象中获取 keshi 和 keshineirong 的值\n        const keshiValue = selectedItem.keshi;\n        const keshineirongValue = selectedItem.keshineirong;\n  \n        // 更新状态\n        setKeshi(keshiValue);\n        setKeshineirong(keshineirongValue);\n      } else {\n        // 处理数组为空的情况\n        setKeshi('');\n        setKeshineirong('');\n      }\n    } catch (error) {\n      // 处理错误\n      console.error(error);\n      // alert('请求失败，请稍后重试');\n    }\n  };\n  useEffect(() => {\n    handleButtonClick(); // 在组件加载完成后自动触发点击事件\n  }, []); // 空数组作为第二个参数，表示只在组件加载完成后触发一次\n\n  return (\n    <>\n\n    <div style={{ paddingLeft: '10px' }}>\n      <button onClick={handleButtonClick} style={{ width: '100%' }}> 换一批刻石</button>\n\n      {/* 显示 keshi 和 keshineirong 的值 */}\n      <h3>刻石名称</h3>\n      <p> {keshi}</p>\n      <h3>刻石文本</h3>\n      <p className='keshiwenben'>{keshineirong}</p>\n    </div>\n    </>\n  );\n}\n\nexport default RandomKeshi;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE1B,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,YAAY,EAAEC,eAAe,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMc,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMC,WAAW,GAAG;QAClBC,OAAO,EAAE,CAAC;QACVC,QAAQ,EAAE,EAAE;QACZC,OAAO,EAAE;UACPC,EAAE,EAAE,CAAC;UACLT,KAAK,EAAE,EAAE;UACTE,YAAY,EAAE;QAChB;MACF,CAAC;;MAED;MACAT,KAAK,CAACiB,QAAQ,CAACC,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;MAC3D,MAAMC,QAAQ,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAC/B,6CAA6C,EAC7CR,WACF,CAAC;MACL;MACAS,OAAO,CAACC,GAAG,CAACH,QAAQ,EAAC,UAAU,CAAC;MAChCE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,EAAC,iBAAiB,CAAC;MACxC;MACA;MACA,MAAMA,IAAI,GAAGJ,QAAQ,CAACI,IAAI,CAACA,IAAI,CAACC,IAAI,IAAI,EAAE;MAC1C,IAAID,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;QAEnB,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGN,IAAI,CAACE,MAAM,CAAC;QAC3D,MAAMK,YAAY,GAAGP,IAAI,CAACG,WAAW,CAAC;;QAEtC;QACA,MAAMK,UAAU,GAAGD,YAAY,CAACvB,KAAK;QACrC,MAAMyB,iBAAiB,GAAGF,YAAY,CAACrB,YAAY;;QAEnD;QACAD,QAAQ,CAACuB,UAAU,CAAC;QACpBrB,eAAe,CAACsB,iBAAiB,CAAC;MACpC,CAAC,MAAM;QACL;QACAxB,QAAQ,CAAC,EAAE,CAAC;QACZE,eAAe,CAAC,EAAE,CAAC;MACrB;IACF,CAAC,CAAC,OAAOuB,KAAK,EAAE;MACd;MACAZ,OAAO,CAACY,KAAK,CAACA,KAAK,CAAC;MACpB;IACF;EACF,CAAC;;EACDnC,SAAS,CAAC,MAAM;IACda,iBAAiB,CAAC,CAAC,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,oBACET,OAAA,CAAAE,SAAA;IAAA8B,QAAA,eAEAhC,OAAA;MAAKiC,KAAK,EAAE;QAAEC,WAAW,EAAE;MAAO,CAAE;MAAAF,QAAA,gBAClChC,OAAA;QAAQmC,OAAO,EAAE1B,iBAAkB;QAACwB,KAAK,EAAE;UAAEG,KAAK,EAAE;QAAO,CAAE;QAAAJ,QAAA,EAAC;MAAM;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAG7ExC,OAAA;QAAAgC,QAAA,EAAI;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACbxC,OAAA;QAAAgC,QAAA,GAAG,GAAC,EAAC3B,KAAK;MAAA;QAAAgC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACfxC,OAAA;QAAAgC,QAAA,EAAI;MAAI;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACbxC,OAAA;QAAGyC,SAAS,EAAC,aAAa;QAAAT,QAAA,EAAEzB;MAAY;QAAA8B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C;EAAC,gBACJ,CAAC;AAEP;AAACpC,EAAA,CArEQD,WAAW;AAAAuC,EAAA,GAAXvC,WAAW;AAuEpB,eAAeA,WAAW;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}